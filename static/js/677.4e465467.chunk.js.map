{"version":3,"file":"static/js/677.4e465467.chunk.js","mappings":"iRAEaA,EAAgBC,EAAAA,EAAAA,IAAH,2IAQbC,EAAUD,EAAAA,EAAAA,IAAH,mL,8BC+DpB,MAxDA,WACE,OAAwBE,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IAEnBC,GAAQF,EAAAA,EAAAA,IAAYG,EAAAA,IACpBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,IACxBC,GAAaN,EAAAA,EAAAA,IAAYO,EAAAA,IAmB/B,OAdAC,EAAAA,EAAAA,YAAU,WACRX,EAASY,EAAAA,EAAAA,qBAAgChB,GAC1C,GAAE,CAACI,EAAUJ,KAEde,EAAAA,EAAAA,YAAU,WACJT,GACFH,GAAW,SAAAc,GACT,IAAMC,EAAU,kBAAOD,IAAP,OAAqBX,IAErC,OADoB,OAAO,IAAIa,IAAID,EAAWE,KAAI,SAAAC,GAAI,MAAI,CAACA,EAAI,GAAQA,EAAjB,KAAyBC,SAEhF,GAEJ,GAAE,CAAChB,KAGF,iCACE,UAACV,EAAD,WACG2B,QAAQC,IAAI,UAAWtB,IACxB,SAACuB,EAAA,EAAD,QAEF,UAAC3B,EAAD,WACGW,GACC,8BAAE,gCACAE,GACF,SAACe,EAAA,EAAD,IACExB,EAAQyB,OAAS,GACnB,8BACGzB,EAAQkB,KAAI,SAACQ,EAAKC,GAAN,OACX,SAACC,EAAA,EAAD,CAAsBxB,KAAMsB,GAAbC,EADJ,MAIb,KACHvB,GAAQA,EAAKqB,QAAU,IACtB,SAACI,EAAA,EAAD,CAAQC,QAAQ,OAAOC,QApCd,WACfhC,EAAQD,EAAO,EAChB,EAkCiDkC,SAAUrB,EAApD,SAAgE,mBAOzE,C","sources":["pages/CatalogPage/CatalogPage.styled.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const WrapperSelect = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-left: 128px;\n  padding-right: 128px;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 50px 29px;\n  padding-left: 128px;\n  padding-right: 128px;\n  margin-top: 50px;\n`;\n","import { useEffect, useState } from 'react';\nimport Button from '@mui/material/Button';\n\nimport CardItem from 'components/CardItem/CardItem';\nimport SelectForm from 'components/Select/Select';\nimport { operations } from '../../redux/operations';\nimport { Loader } from 'components/Loader/Loader';\n\nimport { Wrapper, WrapperSelect } from './CatalogPage.styled';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectCatalog,\n  selectIsErrorCatalog,\n  selectIsFetchingCatalog,\n  selectIsloadingCatalog,\n} from 'redux/selectors';\n\nfunction CatalogPage() {\n  const [page, setPage] = useState(1);\n  const [catalog, setCatalog] = useState([]);\n  const dispatch = useDispatch();\n\n  const data = useSelector(selectCatalog);\n\n  const error = useSelector(selectIsErrorCatalog);\n  const isLoading = useSelector(selectIsloadingCatalog);\n  const isFetching = useSelector(selectIsFetchingCatalog);\n\n  const loadMore = () => {\n    setPage(page + 1);\n  };\n  useEffect(() => {\n    dispatch(operations.getAllWithPagination(page));\n  }, [dispatch, page]);\n\n  useEffect(() => {\n    if (data) {\n      setCatalog(prevState => {\n        const dirtyArray = [...prevState, ...data];\n        const uniqueObjArray = [...new Map(dirtyArray.map(item => [item['id'], item])).values()];\n        return uniqueObjArray;\n      });\n    }\n  }, [data]);\n\n  return (\n    <>\n      <WrapperSelect>\n        {console.log('catalog', catalog)}\n        <SelectForm />\n      </WrapperSelect>\n      <Wrapper>\n        {error ? (\n          <>Oops, there was an error...</>\n        ) : isLoading ? (\n          <Loader />\n        ) : catalog.length > 0 ? (\n          <>\n            {catalog.map((car, index) => (\n              <CardItem key={index} data={car} />\n            ))}\n          </>\n        ) : null}\n        {data && data.length >= 8 && (\n          <Button variant=\"text\" onClick={loadMore} disabled={isFetching}>\n            Load more\n          </Button>\n        )}\n      </Wrapper>\n    </>\n  );\n}\n\nexport default CatalogPage;\n"],"names":["WrapperSelect","styled","Wrapper","useState","page","setPage","catalog","setCatalog","dispatch","useDispatch","data","useSelector","selectCatalog","error","selectIsErrorCatalog","isLoading","selectIsloadingCatalog","isFetching","selectIsFetchingCatalog","useEffect","operations","prevState","dirtyArray","Map","map","item","values","console","log","Select","Loader","length","car","index","CardItem","Button","variant","onClick","disabled"],"sourceRoot":""}