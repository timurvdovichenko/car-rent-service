{"version":3,"file":"static/js/677.9e6ad00b.chunk.js","mappings":"iRAEaA,EAAgBC,EAAAA,EAAAA,IAAH,2IAQbC,EAAUD,EAAAA,EAAAA,IAAH,mL,8BC0EpB,MAjEA,WACE,OAAwBE,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IAEnBC,GAAcF,EAAAA,EAAAA,IAAYG,EAAAA,IAC1BC,GAAcJ,EAAAA,EAAAA,IAAYK,EAAAA,IAIhCC,QAAQC,IAAI,YAAaR,GAEzB,IAAMS,GAAQR,EAAAA,EAAAA,IAAYS,EAAAA,IACpBC,GAAYV,EAAAA,EAAAA,IAAYW,EAAAA,IACxBC,GAAaZ,EAAAA,EAAAA,IAAYa,EAAAA,IAsB/B,OAjBAC,EAAAA,EAAAA,YAAU,WACRjB,EAASkB,EAAAA,EAAAA,sBAAiC,CAAEtB,KAAK,QAAD,OAAUA,KAC3D,GAAE,CAACI,EAAUJ,KAEdqB,EAAAA,EAAAA,YAAU,WAENlB,EADEM,GAAeE,EACNL,EAIF,SAAAiB,GACT,IAAMC,EAAU,kBAAOD,IAAP,OAAqBjB,IAErC,OADoB,OAAO,IAAImB,IAAID,EAAWE,KAAI,SAAAC,GAAI,MAAI,CAACA,EAAI,GAAQA,EAAjB,KAAyBC,SAEhF,EACF,GAAE,CAACtB,EAAMG,EAAaE,KAGrB,iCACE,SAACf,EAAD,WACE,SAACiC,EAAA,EAAD,OAEF,UAAC/B,EAAD,WACGiB,GACC,8BAAE,gCACAE,GACF,SAACa,EAAA,EAAD,IACE5B,EAAQ6B,OAAS,GACnB,8BACG7B,EAAQwB,KAAI,SAACM,EAAKC,GAAN,OACX,SAACC,EAAA,EAAD,CAAsB5B,KAAM0B,GAAbC,EADJ,MAIb,KACH3B,GAAQA,EAAKyB,QAAU,IACtB,SAACI,EAAA,EAAD,CAAQC,QAAQ,OAAOC,QAtCd,WACfpC,EAAQD,EAAO,EAChB,EAoCiDsC,SAAUnB,EAApD,SAAgE,mBAOzE,C","sources":["pages/CatalogPage/CatalogPage.styled.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const WrapperSelect = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-left: 128px;\n  padding-right: 128px;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 50px 29px;\n  padding-left: 128px;\n  padding-right: 128px;\n  margin-top: 50px;\n`;\n","import { useEffect, useState } from 'react';\nimport Button from '@mui/material/Button';\n\nimport CardItem from 'components/CardItem/CardItem';\nimport SelectForm from 'components/Select/Select';\nimport { operations } from '../../redux/operations';\nimport { Loader } from 'components/Loader/Loader';\n\nimport { Wrapper, WrapperSelect } from './CatalogPage.styled';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectBrandCatalogBoolean,\n  selectCatalog,\n  selectIsErrorCatalog,\n  selectIsFetchingCatalog,\n  selectIsloadingCatalog,\n  selectPriceCatalogBoolean,\n} from 'redux/selectors';\n\nfunction CatalogPage() {\n  const [page, setPage] = useState(1);\n  const [catalog, setCatalog] = useState([]);\n  const dispatch = useDispatch();\n\n  const data = useSelector(selectCatalog);\n\n  const selectBrand = useSelector(selectBrandCatalogBoolean);\n  const selectPrice = useSelector(selectPriceCatalogBoolean);\n\n  // const dataSort = useSelector(selectSortOrFilter);\n  // console.log('dataSort :>> ', dataSort);\n  console.log('data :>> ', data);\n\n  const error = useSelector(selectIsErrorCatalog);\n  const isLoading = useSelector(selectIsloadingCatalog);\n  const isFetching = useSelector(selectIsFetchingCatalog);\n\n  const loadMore = () => {\n    setPage(page + 1);\n  };\n  useEffect(() => {\n    dispatch(operations.getDataWithPagination({ page: `page=${page}` }));\n  }, [dispatch, page]);\n\n  useEffect(() => {\n    if (selectBrand || selectPrice) {\n      setCatalog(data);\n\n      return;\n    }\n    setCatalog(prevState => {\n      const dirtyArray = [...prevState, ...data];\n      const uniqueObjArray = [...new Map(dirtyArray.map(item => [item['id'], item])).values()];\n      return uniqueObjArray;\n    });\n  }, [data, selectBrand, selectPrice]);\n\n  return (\n    <>\n      <WrapperSelect>\n        <SelectForm />\n      </WrapperSelect>\n      <Wrapper>\n        {error ? (\n          <>Oops, there was an error...</>\n        ) : isLoading ? (\n          <Loader />\n        ) : catalog.length > 0 ? (\n          <>\n            {catalog.map((car, index) => (\n              <CardItem key={index} data={car} />\n            ))}\n          </>\n        ) : null}\n        {data && data.length >= 8 && (\n          <Button variant=\"text\" onClick={loadMore} disabled={isFetching}>\n            Load more\n          </Button>\n        )}\n      </Wrapper>\n    </>\n  );\n}\n\nexport default CatalogPage;\n"],"names":["WrapperSelect","styled","Wrapper","useState","page","setPage","catalog","setCatalog","dispatch","useDispatch","data","useSelector","selectCatalog","selectBrand","selectBrandCatalogBoolean","selectPrice","selectPriceCatalogBoolean","console","log","error","selectIsErrorCatalog","isLoading","selectIsloadingCatalog","isFetching","selectIsFetchingCatalog","useEffect","operations","prevState","dirtyArray","Map","map","item","values","Select","Loader","length","car","index","CardItem","Button","variant","onClick","disabled"],"sourceRoot":""}